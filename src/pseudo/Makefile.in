# Makefile for somthin'

SHELL=/bin/sh

CC = @CC@
FPP = @FPP@
FPPFLAGS = @FPPFLAGS@
FC = @FC@
LD = @LD@
CFLAGS =  @CFLAGS@
FFLAGS = @F2C_H@ @FFLAGS@
RANLIB = @RANLIB@
LDFLAGS = @LDFLAGS@
AR = @AR@

fobjects = ai.o besfn.o biq.o conmax.o cq.o descreen.o \
	dij.o ei.o finteg.o fitwv.o gaussq.o ghost.o ginteg.o \
	guess.o optinvert.o optim.o optsolve.o conmaxdriver.o\
	xroots.o kpot.o kerker.o lambda.o newmin.o fnset2.o 

cobjects = do_ps.o

all_objects = $(fobjects) $(cobjects)

this_dir = pseudo

.f.o:
	$(FPP) $(FPPFLAGS) $< > $<.f
	$(FC) $(FFLAGS) $(OPTIONS) -c $<.f -o $@
	rm -f $<.f

all: PARAMOPT $(all_objects)
	-rm -f objects
	for i in $(all_objects); do echo $(this_dir)/$$i >> objects; done

clean:
	rm -f $(fobjects) $(cobjects) libpseudo.a core* *~ *.f.f objects

distclean: clean
	rm -f Makefile

