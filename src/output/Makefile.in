# Makefile for somthin'

SHELL=/bin/sh

CC = @CC@
FPP = @FPP@
FPPFLAGS = @FPPFLAGS@
FC = @FC@
LD = @LD@
CFLAGS =  @CFLAGS@
FFLAGS = @F2C_H@ @FFLAGS@
RANLIB = @RANLIB@
LDFLAGS = @LDFLAGS@
AR = @AR@

fobjects = klby.o radina.o writepwf.o

cobjects = cwritepwf.o do_fhi.o do_ncpp.o do_pwf.o do_upf.o nwrite.o

all_objects = $(fobjects) $(cobjects)

this_dir = output

.f.o:
	$(FPP) $(FPPFLAGS) $< > $<.f
	$(FC) $(FFLAGS) $(OPTIONS) -c $<.f -o $@
	rm -f $<.f

all: PARAMKB $(all_objects)
	-rm -f objects
	for i in $(all_objects); do echo $(this_dir)/$$i >> objects; done

clean:
	rm -f $(fobjects) $(cobjects) liboutput.a core* *~ *.f.f objects

distclean: clean
	rm -f Makefile

